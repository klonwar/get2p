!function(e){function t(t){for(var r,c,i=t[0],u=t[1],l=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;o.push([264,1]),n()}({264:function(e,t,n){n(265),e.exports=n(597)},462:function(e,t){},464:function(e,t){},474:function(e,t){},476:function(e,t){},503:function(e,t){},505:function(e,t){},506:function(e,t){},511:function(e,t){},513:function(e,t){},519:function(e,t){},521:function(e,t){},540:function(e,t){},552:function(e,t){},555:function(e,t){},596:function(e,t,n){},597:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(111),c=n(2),i=n.n(c),u=n(17),l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),!1)}},s=l((function(e){return e?void 0:"Это поле обязательно"}),(function(e){if(!(e+"").startsWith("https://")&&!(e+"").startsWith("http://"))return"Укажите протокол"})),d=l((function(e){if(e)try{JSON.parse(e)}catch(e){return"Необходим JSON"}})),f=function(e){var t=e.className,n=void 0===t?"":t,r=e.text;return a.a.createElement("span",{className:"uk-position-absolute uk-overlay uk-padding-small ".concat(n)},a.a.createElement("div",{className:"uk-flex uk-flex-middle uk-height-1-1"},a.a.createElement("span",{className:"input-hint uk-active"},r)))};f.propTypes={className:i.a.string,text:i.a.string.isRequired};var m=f,p=n(53),v=n.n(p),b=function(e){var t=v.a.AES.encrypt(JSON.stringify(e),"G8sKJhv0w7").toString();return v.a.enc.Base64.parse(t).toString(v.a.enc.Hex)},g=function(e){var t=v.a.enc.Hex.parse(e).toString(v.a.enc.Base64),n=v.a.AES.decrypt(t,"G8sKJhv0w7");return JSON.parse(n.toString(v.a.enc.Utf8))};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){return{set:function(t){return localStorage[e]=b(t)},list:function(){return localStorage[e]?g(localStorage[e]):void 0},get:function(t){var n;return null===(n=j[e].list())||void 0===n?void 0:n[t]},put:function(t,n){return j[e].set(y(y({},j[e].list()),{},O({},t,y({},n))))},del:function(t){var n=y({},j[e].list());delete n[t],j[e].set(n)},clear:function(){delete localStorage[e]}}},j={favorite:E("favorite"),history:E("history"),favicons:E("favicons")},x=function(e,t){var n=e.token,r=e.uuid,a=g(n),o=a.handlerType,c=a.method,i=a.redirectTo,u=a.link,l=new URL(u),s=l.hostname,d=l.pathname,f=l.search,m=[];m.push({text:o}),m.push({text:c}),i&&m.push({text:"redirect"}),j.favorite.put(r||n,{link:r?"/send?uuid=".concat(r):"/send?token=".concat(n),name:s+d+f,domain:s,labels:m}),t()},w=function(e,t){var n=e.token,r=e.uuid;j.favorite.del(r||n),t()},S=function(e){var t=e.autofocus,n=void 0!==t&&t,r=e.input,o=e.icon,c=e.disabled,i=void 0!==c&&c,u=e.placeholder,l=void 0===u?"":u,s=e.textarea,d=void 0!==s&&s,f=e.className,p=void 0===f?"":f,v=e.meta.error&&e.meta.modified,b=(e.meta.submitError||e.meta.submitFailed)&&!e.meta.active,g=e.meta.error||"",k=(v||b)&&g;return a.a.createElement("div",null,a.a.createElement("div",{className:"uk-inline uk-width-1-1 "},a.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: ".concat(o)}),d?a.a.createElement(a.a.Fragment,null,a.a.createElement("textarea",h({rows:d},r,{autoFocus:n,disabled:i,placeholder:l,className:"uk-input".concat(k?" uk-form-danger":"").concat(p?" ".concat(p):"")})),k?a.a.createElement(m,{className:"uk-position-center-right",text:g}):void 0):a.a.createElement(a.a.Fragment,null,a.a.createElement("input",h({},r,{autoFocus:n,disabled:i,placeholder:l,className:"uk-input".concat(k?" uk-form-danger":"").concat(p?" ".concat(p):"")})),k?a.a.createElement(m,{className:"uk-position-center-right",text:g}):void 0)))},P=n(23),N=n(12);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var q=function(e){var t=e.clickHandler,n=e.visibilityTrigger,r=e.firstCheckbox,o=e.secondCheckbox,c=e.name,i=e.className,l=void 0===i?"":i,s=T(e,["clickHandler","visibilityTrigger","firstCheckbox","secondCheckbox","name","className"]),d=r.label?r.label:r.value+"",f=o.label?o.label:o.value+"",m=(d.length,f.length,d.length>=f.length?d:f);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"uk-hidden"},a.a.createElement(u.a,R({},r,{name:c,component:"input",type:"checkbox"})),a.a.createElement(u.a,R({},o,{name:c,component:"input",type:"checkbox"}))),a.a.createElement("button",R({className:"".concat(l," uk-position-relative uk-height-auto uk-flex uk-flex-middle uk-flex-center uk-button uk-button-secondary uk-padding-remove uk-margin-small-right"),onClick:t,type:"button"},s),a.a.createElement("div",null,a.a.createElement("span",{"uk-icon":"icon:  chevron-left"}),a.a.createElement("span",{className:"uk-invisible"},m),a.a.createElement("span",{"uk-icon":"icon:  chevron-right"})),a.a.createElement("div",{className:"uk-position-center"},a.a.createElement("span",null,n?d:f))))};q.propTypes={firstCheckbox:i.a.object.isRequired,secondCheckbox:i.a.object.isRequired,clickHandler:i.a.func.isRequired,visibilityTrigger:i.a.any.isRequired,name:i.a.string.isRequired,form:i.a.string,className:i.a.string};var F=q,D=n(24),U=location.hostname.includes("localhost")?"https://localhost:3000/api/v1":"https://get2p.herokuapp.com/api/v1";function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){M(o,r,a,c,i,"next",e)}function i(e){M(o,r,a,c,i,"throw",e)}c(void 0)}))}}var A={sendRequest:Object(D.b)("send-request",function(){var e=H(regeneratorRuntime.mark((function e(t){var n,r,a,o,c,i,u,l,s,d,f,m,p,v,b,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.token,e.prev=1,r=g(n),a=r.redirectTo,"server"!==(o=r.handlerType)){e.next=19;break}return e.next=6,fetch("".concat(U,"/request/").concat(n,"/"));case 6:if(c=e.sent,a&&location.assign(a),!c.ok){e.next=14;break}return e.next=11,c.json();case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=void 0;case 15:return i=e.t0,e.abrupt("return",{code:c.status,type:null==i?void 0:i.type,message:(null==i?void 0:i.data)||(null==c?void 0:c.statusText)});case 19:if("client"!==o){e.next=33;break}if(u=g(n),l=u.link,s=u.credentials,d=u.method,f=void 0===d?"GET":d,m=u.body,p=u.headers,v=u.noCorsMode,b={},m&&"GET"!==f)try{JSON.parse(m),b["content-type"]="application/json"}catch(e){b["content-type"]="application/x-www-form-urlencoded"}return e.next=25,fetch(l,{mode:v?"no-cors":void 0,credentials:s?"include":void 0,method:f,body:"GET"!==f?m:void 0,headers:_(_({},b),p)});case 25:return h=e.sent,a&&location.assign(a),e.next=29,h.text();case 29:return k=e.sent,e.abrupt("return",0!==h.status?{code:h.status,message:k}:{code:-2,message:"Content unavailable in case of no-cors mode"});case 33:return e.abrupt("return",void 0);case 34:e.next=40;break;case 36:return e.prev=36,e.t1=e.catch(1),console.error(e.t1),e.abrupt("return",{code:-1,message:"Connection refused"});case 40:case"end":return e.stop()}}),e,null,[[1,36]])})));return function(t){return e.apply(this,arguments)}}()),getFavicon:Object(D.b)("get-favicon",function(){var e=H(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.protocol,r=t.domainUrl,e.prev=1,e.next=4,fetch("".concat(U,"/favicon/").concat(b("".concat(n,"//").concat(r)),"/"));case 4:return e.next=6,e.sent.json();case 6:return a=e.sent,j.favicons.put(r,a),e.abrupt("return",I({},r,a.data));case 11:throw e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),getUuid:Object(D.b)("get-uuid",function(){var e=H(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,e.prev=1,e.next=4,fetch("".concat(U,"/uuid/c/").concat(n,"/"));case 4:return e.next=6,e.sent.json();case 6:return r=e.sent,e.abrupt("return",_({ok:!0},r));case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{ok:!1,token:n,uuid:"",error:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),getToken:Object(D.b)("get-token",function(){var e=H(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uuid,e.prev=1,e.next=4,fetch("".concat(U,"/uuid/g/").concat(n,"/"));case 4:return e.next=6,e.sent.json();case 6:if((r=e.sent).token){e.next=9;break}return e.abrupt("return",{ok:!1,uuid:n,token:"",error:"Невалидный UUID"});case 9:return e.abrupt("return",_({ok:!0},r));case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{ok:!1,uuid:n,token:"",error:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=Object(D.c)({name:"favorite",initialState:{},reducers:{favoriteFromStorage:function(e){e.favorite=j.favorite.list()}}}),B=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},J.actions),V=J.reducer,W=n(44),z=function(e){var t,n;return null==e||null===(t=e.sendReducer)||void 0===t||null===(n=t.siteResponse)||void 0===n?void 0:n.code},X=function(e){var t,n;return null==e||null===(t=e.sendReducer)||void 0===t||null===(n=t.siteResponse)||void 0===n?void 0:n.message},$=function(e){var t;return null==e||null===(t=e.sendReducer)||void 0===t?void 0:t.favicons},K=function(e){var t;return null==e||null===(t=e.favoriteReducer)||void 0===t?void 0:t.favorite},Y=function(e){var t;return null==e||null===(t=e.uuidReducer)||void 0===t?void 0:t.uuids},Z=function(e){var t;return null==e||null===(t=e.uuidReducer)||void 0===t?void 0:t.pending},Q=function(e){var t;return null==e||null===(t=e.uuidReducer)||void 0===t?void 0:t.tokens},ee=function(e){return a.a.createElement("div",{className:"uk-flex uk-width-1-1 uk-flex-center uk-flex-column uk-child-width-1-1","uk-margin":"margin: uk-margin-top"},e.children)};ee.propTypes={children:i.a.node};var te=ee,ne=function(e){var t=e.children,n=e.firstProps,r=e.secondProps;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",n,t),a.a.createElement("div",r,t))};ne.propTypes={children:i.a.node,firstProps:i.a.object,secondProps:i.a.object};var re=ne;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oe=function(e){return a.a.createElement(te,null,a.a.createElement(re,ae({firstProps:{className:"uk-flex uk-width-1-1 uk-flex-between  uk-flex-wrap uk-visible@m","uk-margin":"margin: uk-margin-top"},secondProps:{className:"uk-text-right uk-flex uk-flex-column  uk-hidden@m","uk-margin":"margin: uk-margin-top"}},e)))};oe.propTypes={children:i.a.node};var ce=oe;n(584);var ie;function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=Object(D.c)({name:"uuid",initialState:{},reducers:{removeUuid:function(e,t){return le(le({},e),{},{uuids:le(le({},e.uuids),{},se({},t.payload.token,void 0))})},removeToken:function(e,t){return le(le({},e),{},{tokens:le(le({},e.tokens),{},se({},t.payload.uuid,void 0))})}},extraReducers:(ie={},se(ie,A.getUuid.pending,(function(e,t){return le(le({},e),{},{pending:!0})})),se(ie,A.getUuid.rejected,(function(e,t){return le(le({},e),{},{pending:!1})})),se(ie,A.getUuid.fulfilled,(function(e,t){return le(le({},e),{},{pending:!1,uuids:le(le({},e.uuids),{},se({},t.payload.token,{ok:t.payload.ok,uuid:t.payload.uuid,error:t.payload.error}))})})),se(ie,A.getToken.pending,(function(e,t){return le(le({},e),{},{pending:!0})})),se(ie,A.getToken.rejected,(function(e,t){return le(le({},e),{},{pending:!1})})),se(ie,A.getToken.fulfilled,(function(e,t){return le(le({},e),{},{pending:!1,tokens:le(le({},e.uuids),{},se({},t.payload.uuid,{ok:t.payload.ok,token:t.payload.token,error:t.payload.error}))})})),ie)}),fe=le({},de.actions),me=de.reducer,pe=function(e){var t=e.ratio,n=void 0===t?"1":t,r=e.className,o=void 0===r?"":r,c=e.children,i=void 0===c?void 0:c,u=e.relative,l=e.loading,s=e.isError,d=void 0!==s&&s,f=e.errorHandler,m=void 0===f?function(){}:f,p=e.errorIcon,v=void 0===p?"close":p,b=e.errorText,g=void 0===b?"":b,h=a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"uk-position-center ".concat(l?"":"uk-invisible"),"uk-spinner":"ratio: ".concat(n)}),a.a.createElement("div",{className:"uk-flex uk-flex-column uk-flex-middle uk-position-center".concat(d?"":" uk-hidden")},a.a.createElement("button",{className:"uk-button",onClick:m,"uk-icon":"icon: ".concat(v,"; ratio: ").concat(n)}),a.a.createElement("span",null,g)),a.a.createElement("div",{className:"".concat(l||d?"uk-invisible":""," ").concat(o)},i));return u?a.a.createElement("div",{className:"uk-position-relative"},h):h};pe.propTypes={children:i.a.node,loading:i.a.bool.isRequired,relative:i.a.bool,errorHandler:i.a.func,ratio:i.a.string,errorIcon:i.a.string,isError:i.a.oneOfType([i.a.bool,i.a.string]),errorText:i.a.oneOfType([i.a.bool,i.a.string]),className:i.a.string};var ve=pe;function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ge=function(e){var t=e.className,n=void 0===t?"":t;return a.a.createElement("div",be({},e,{className:"overlay-spinner uk-width-1-1 uk-height-1-1 uk-position-absolute uk-position-top-left ".concat(n)}),a.a.createElement(ve,{loading:!0,ratio:"6"}))};ge.propTypes={className:i.a.string};var he=ge,ke=n(112),ye=n.n(ke);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var a=Ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re,Te,qe,Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(c,e);var t,n,r,o=Se(c);function c(){return je(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.changeFormType,n=e.formID,r=e.isBuffWritting,o=e.handleSubmit;return a.a.createElement(re,{firstProps:{className:"uk-width-1-4@m uk-flex uk-flex-column uk-flex-around uk-visible@m","uk-margin":""},secondProps:{className:"uk-width-1-4@m uk-flex uk-flex-between uk-hidden@m","uk-margin":""}},a.a.createElement("div",null,a.a.createElement("button",{type:"submit",form:n,onClick:function(e){t("send"),e.ctrlKey&&t("send-new-window")},onMouseDown:function(e){1===e.button&&(t("send-new-window"),o())},className:"uk-button uk-button-primary"},a.a.createElement("span",{className:"uk-visible@s"},"Отправить"),a.a.createElement("span",{className:"uk-hidden@s","uk-icon":"icon: forward"}))),a.a.createElement("div",null,a.a.createElement("button",{type:"submit",form:n,onClick:function(){t("favorite")},className:"uk-button uk-position-relative"},a.a.createElement("span",{className:"uk-visible@s"},"В избранное"),a.a.createElement("span",{className:"uk-hidden@s","uk-icon":"icon: star"}))),a.a.createElement("div",null,a.a.createElement("button",Ee({type:"submit",form:n,disabled:!window.isSecureContext,onClick:function(){t("clipboard")},className:"uk-button uk-position-relative"},r?{style:{backgroundColor:"#8BC34A"}}:{}),a.a.createElement("span",{className:r?"uk-invisible":""},a.a.createElement("span",{className:"uk-visible@s"},"В буфер обмена"),a.a.createElement("span",{className:"uk-hidden@s","uk-icon":"icon: pull"})),a.a.createElement("span",{className:"".concat(r?"":"uk-invisible"," uk-position-center"),"uk-icon":"icon: check"}))))}}])&&xe(t.prototype,n),r&&xe(t,r),c}(a.a.PureComponent);qe=function(){return{toggleRedirect:function(e,t,n){n.changeValue(t,"redirect",(function(e){return!e}))}}},(Te="getFormMutators")in(Re=Fe)?Object.defineProperty(Re,Te,{value:qe,enumerable:!0,configurable:!0,writable:!0}):Re[Te]=qe,Fe.propTypes={changeFormType:i.a.func.isRequired,handleSubmit:i.a.func.isRequired,formID:i.a.string.isRequired,isBuffWritting:i.a.bool.isRequired};var De=Fe;function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var a=Ae(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(c,e);var t,n,r,o=Me(c);function c(){return Ce(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.formID,r=e.submitting,o=e.currentMethod,c=e.toggleMethod,i=e.currentHandlerType,l=e.toggleHandlerType;return a.a.createElement("div",{className:"uk-width-1-2@m"},a.a.createElement("form",{onSubmit:t,id:n},a.a.createElement("div",{className:"uk-card uk-card-body uk-card-default uk-text-left"},a.a.createElement("h3",{className:"uk-card-title uk-position-relative"},a.a.createElement("span",null,"Новый запрос"),a.a.createElement(P.b,{to:"/help",className:"uk-badge secondary-background uk-position-center-right"},"?")),a.a.createElement("div",{className:"uk-flex uk-flex-center uk-flex-column uk-child-width-1-1","uk-margin":"margin: uk-margin-top"},a.a.createElement("div",{className:"uk-flex"},a.a.createElement(F,{name:"method",firstCheckbox:{initialValue:"GET",value:"GET"},secondCheckbox:{value:"POST"},clickHandler:c,visibilityTrigger:"GET"===o}),a.a.createElement("div",{className:"uk-width-expand"},a.a.createElement(u.a,{name:"link",disabled:r,type:"text",icon:"forward",placeholder:"http://example.com/login/".concat("GET"===o?"?foo=bar&bar=foo":""),validate:s,autofocus:!1},S))),function(){if("GET"!==o)return a.a.createElement(te,null,a.a.createElement(u.a,{name:"body",disabled:r,type:"text",icon:"link",placeholder:"foo=bar&bar=foo"},S))}(),a.a.createElement("ul",{className:"uk-margin-remove-bottom","uk-accordion":""},a.a.createElement("li",null,a.a.createElement("a",{className:"uk-accordion-title uk-text-secondary",href:"#"},"Дополнительно"),a.a.createElement("div",{className:"uk-accordion-content"},a.a.createElement(ce,null,a.a.createElement("div",{className:"uk-width-1-1","uk-margin":""},a.a.createElement(F,{className:"uk-width-expand",name:"handlerType",firstCheckbox:{initialValue:"server",value:"server",label:"Server side"},secondCheckbox:{value:"client",label:"Client side"},clickHandler:l,visibilityTrigger:"server"===i}),a.a.createElement(u.a,{name:"headers",disabled:r,type:"text",icon:"cog",placeholder:'{\n  "accept": "application/json"\n}',validate:d,textarea:3,className:"json-textarea"},S),a.a.createElement("div",{className:"uk-flex"},a.a.createElement("div",{className:"uk-width-expand"},a.a.createElement(u.a,{name:"redirectTo",disabled:r,type:"text",icon:"future",placeholder:"http://example.com/main/"},S)))),a.a.createElement(ce,null,a.a.createElement("div",null,a.a.createElement("label",null,a.a.createElement(u.a,{initialValue:!0,name:"credentials",component:"input",type:"checkbox",className:"uk-checkbox"})," ","Credentials")),i&&"server"!==i?a.a.createElement("div",null,a.a.createElement("label",null,a.a.createElement(u.a,{initialValue:!0,name:"noCorsMode",component:"input",type:"checkbox",className:"uk-checkbox"})," ","No-cors")):void 0,a.a.createElement("div",null,a.a.createElement("label",null,a.a.createElement(u.a,{initialValue:!0,name:"shortLink",component:"input",type:"checkbox",className:"uk-checkbox"})," ","Короткая ссылка")))))))))))}}])&&_e(t.prototype,n),r&&_e(t,r),c}(a.a.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Le,"getFormMutators",(function(){return{toggleMethod:function(e,t,n){n.changeValue(t,"method",(function(e){return"GET"===e?"POST":"GET"}))},toggleHandlerType:function(e,t,n){n.changeValue(t,"handlerType",(function(e){return"server"===e?"client":"server"}))}}})),Le.propTypes={submitting:i.a.bool,handleSubmit:i.a.func.isRequired,formID:i.a.string.isRequired,currentMethod:i.a.string.isRequired,toggleMethod:i.a.func.isRequired,currentHandlerType:i.a.string.isRequired,toggleHandlerType:i.a.func.isRequired};var Ge=Le;function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function e(t){var n=t.formID,r=void 0===n?e.defaultID:n,o=t.onSubmit,c=t.isBuffWritting;return a.a.createElement(u.b,{onSubmit:o,mutators:Be(Be({},Ge.getFormMutators()),De.getFormMutators()),render:function(e){var t=e.handleSubmit,n=e.form,o=e.values,i=e.submitting;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ge,{handleSubmit:t,submitting:i,formID:r,currentMethod:o.method||"GET",toggleMethod:n.mutators.toggleMethod,currentHandlerType:o.handlerType||"server",toggleHandlerType:n.mutators.toggleHandlerType}),a.a.createElement(De,{formID:r,handleSubmit:t,changeFormType:function(e){return n.change("type",e)},isBuffWritting:c}))}})};We.defaultID="send-form",We.propTypes={formID:i.a.string,isBuffWritting:i.a.bool.isRequired,onSubmit:i.a.func.isRequired};var ze=We;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qe=function(e){var t=e.favorite,n=e.uuids,o=e.favoriteFromStorage,c=e.uuidRequestPending,i=e.getFavicon,u=e.getUuid,l=e.removeUuid,s=Object(N.g)(),d=Ye(Object(r.useState)(!1),2),f=d[0],m=d[1],p=Ye(Object(r.useState)(void 0),2),v=p[0],g=p[1],h=Object(r.useCallback)((function(e){var t=e.data,n=e.link,r=e.uuid;if("clipboard"===t.type)m(!0),navigator.clipboard.writeText(location.origin+n).then((function(){setTimeout((function(){m(!1)}),500)}));else if("send"===t.type)s.push(n);else if("send-new-window"!==t.type&&t.type){if("favorite"===t.type){var a=new URL(t.link);i(a.protocol,a.hostname),x({token:v.token,uuid:r},o)}}else window.open("".concat(window.location.origin).concat(n),"_blank")}),[i,o,s,v]);return Object(r.useEffect)((function(){(null==v?void 0:v.token)&&(null==n?void 0:n[v.token])&&(n[v.token].ok?h({data:v.decrypted,link:"/send/".concat(n[v.token].uuid),uuid:n[v.token].uuid}):ye.a.notification(n[v.token].error||"",{pos:"bottom-right",status:"danger",timeout:1500}),l(v.token))}),[v,n,h,l]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"uk-padding uk-padding-remove-vertical"},a.a.createElement("div",{className:"uk-text-center","uk-grid":""},a.a.createElement(a.a.Fragment,null,function(e,t){return e&&0!==Object.keys(e).length?a.a.createElement("div",{className:"uk-width-1-4@m","uk-margin":""},a.a.createElement("div",{className:"uk-card uk-card-body uk-card-default uk-text-left"},a.a.createElement("h3",{className:"uk-card-title"},"Избранное")),Object.keys(e).map((function(n){var r;return a.a.createElement(P.b,{to:e[n].link,onClick:function(e){e.target.closest(".red-closing-sign")&&e.preventDefault()},key:n,className:"uk-flex uk-flex-middle uk-card uk-card-body uk-card-default uk-card-small uk-card-hover uk-text-left card-link uk-link-reset"},a.a.createElement("img",{alt:"",className:"uk-icon-image",src:null===(r=j.favicons.get(e[n].domain))||void 0===r?void 0:r.data}),a.a.createElement("div",{className:"uk-width-expand uk-text-left uk-flex uk-flex-center uk-padding-small uk-padding-remove-vertical"},a.a.createElement("div",{className:"uk-flex uk-flex-column uk-width-1-1"},a.a.createElement("span",{className:" favorite-label"},e[n].name),a.a.createElement("div",null,e[n].labels.map((function(e){return a.a.createElement("span",{key:e.text,className:"uk-margin-small-right uk-label ".concat(e.className)},e.text)}))))),a.a.createElement("span",{className:"red-closing-sign","uk-icon":"icon: close",onClick:function(){w({token:n},(function(){return t()}))}}))}))):a.a.createElement("div",{className:"uk-width-1-4@m uk-visible@s"})}(t,o)),a.a.createElement(ze,{onSubmit:function(e){var t=$e($e({},e),{},{body:"GET"===e.method?void 0:e.body}),n=b(t);return g({token:n,decrypted:t}),e.shortLink?(u(n),!1):(h({data:e,link:"/send/"+n}),!0)},isBuffWritting:f}))),a.a.createElement(he,{style:c?{}:{opacity:"0",zIndex:"-1"}}))};Qe.propTypes={favorite:i.a.object,uuids:i.a.object,uuidRequestPending:i.a.bool,favoriteFromStorage:i.a.func.isRequired,getFavicon:i.a.func.isRequired,removeUuid:i.a.func.isRequired,getUuid:i.a.func.isRequired};var et,tt=Object(W.b)((function(e){return{favorite:K(e),uuids:Y(e),uuidRequestPending:Z(e)}}),(function(e){return{favoriteFromStorage:function(){return e(B.favoriteFromStorage(void 0))},getFavicon:function(t,n){return e(A.getFavicon({protocol:t,domainUrl:n}))},getUuid:function(t){return e(A.getUuid({token:t}))},removeUuid:function(t){return e(fe.removeUuid({token:t}))}}}))(Qe);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=Object(D.c)({name:"send",initialState:{},reducers:{clearResponse:function(e){e.siteResponse={}}},extraReducers:(et={},at(et,A.sendRequest.fulfilled,(function(e,t){return rt(rt({},e),{},{siteResponse:rt({},t.payload)})})),at(et,A.sendRequest.rejected,(function(e,t){return rt(rt({},e),{},{siteResponse:rt({},t.payload)})})),at(et,A.getFavicon.fulfilled,(function(e,t){return rt(rt({},e),{},{favicons:rt(rt({},e.favicons),t.payload)})})),et)}),ct=rt({},ot.actions),it=ot.reducer,ut=n.p+"37857ad3f846f65476cffb20d3dfc4e5.svg",lt=n.p+"d1d08460bfd28080eb4d570f6baeaa60.svg";function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft=function(e){var t=e.token,n=e.uuid,o=e.favoriteFromStorage,c=e.favorite,i=st(Object(r.useState)(!1),2),u=i[0],l=i[1];return Object(r.useEffect)((function(){l((null==c?void 0:c[t])||(null==c?void 0:c[n]))}),[c,t,n]),a.a.createElement("button",{className:"uk-padding-small",onClick:function(){(null==c?void 0:c[t])||(null==c?void 0:c[n])?w({token:t,uuid:n},(function(){return o()})):x({token:t,uuid:n},(function(){return o()}))},"uk-icon":""},a.a.createElement("img",{alt:"favorite",className:"uk-icon-image ".concat(u?"":"uk-hidden"),src:ut,"uk-svg":""}),a.a.createElement("img",{alt:"favorite",className:"uk-icon-image ".concat(u?"uk-hidden":""),src:lt,"uk-svg":""}))};ft.propTypes={token:i.a.string,uuid:i.a.string,favoriteFromStorage:i.a.func.isRequired,favorite:i.a.object};var mt=Object(W.b)((function(e){return{favorite:K(e)}}),(function(e){return{favoriteFromStorage:function(){return e(B.favoriteFromStorage(void 0))}}}))(ft),pt=n(599);n(588);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kt=function(e){if(!e)return{error:"Вы не указали токен"};var t;try{t=g(e)}catch(e){return{error:"Перегенерируйте токен"}}if(t.headers)try{t.headers=JSON.parse(t.headers)}catch(e){return{error:"Хэдеры должны быть в JSON"}}return t.credentials?t.credentials="include":t.credentials=void 0,t},yt=function(e){Object(N.h)();var t=e.match,n=e.code,o=e.message,c=e.favicons,i=(e.favorite,e.tokensFromUUID),u=e.sendRequest,l=e.clearResponse,s=e.getFavicon,d=e.getToken,f=e.removeToken,m=gt(Object(r.useState)(void 0),2),p=m[0],v=m[1],b=gt(Object(r.useState)(void 0),2),g=b[0],h=b[1],k=gt(Object(r.useState)(void 0),2),y=k[0],O=k[1],E=gt(Object(r.useState)(void 0),2),x=E[0],w=E[1],S=gt(Object(r.useState)(void 0),2),R=S[0],T=S[1],q=gt(Object(r.useState)(""),2),F=q[0],D=q[1],U=gt(Object(r.useState)(""),2),C=U[0],_=U[1],I=gt(Object(r.useState)("server"),2),M=I[0],H=I[1],A=gt(Object(r.useState)("GET"),2),L=A[0],G=A[1];return Object(r.useEffect)((function(){var e,n=t.params.payload,r=(null===(e=n.match(/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/))||void 0===e?void 0:e[0])||"";h(r?"":n),O(r)}),[]),Object(r.useEffect)((function(){g||Object(pt.a)(g)||y||Object(pt.a)(y)||v("No token or uuid")}),[g,y,v]),Object(r.useEffect)((function(){g&&v(kt(g).error||!1)}),[g]),Object(r.useEffect)((function(){!g&&y&&d(y)}),[g,y,d]),Object(r.useEffect)((function(){if(!g&&y&&(null==i?void 0:i[y])){h(i[y].token);var e=i[y].error;v(!Object(pt.a)(e)&&e)}}),[i,y,f,g]),Object(r.useEffect)((function(){if(!Object(pt.a)(p)&&!p&&g){var e,t=kt(g),n=new URL(t.link),r=n.protocol,a=n.hostname;C||s(r,a),_((null==c?void 0:c[a])||(null===(e=j.favicons.get(a))||void 0===e?void 0:e.data)||"")}}),[p,c,g,C,s]),Object(r.useEffect)((function(){if(g){var e=kt(g);H(e.handlerType),G(e.error)}}),[c,g,C,s]),Object(r.useEffect)((function(){if(!Object(pt.a)(p)&&!p){var e=kt(g),t=new URL(e.link),n=t.hostname,r=t.protocol;D(e.redirectTo||r+n),u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({token:g},e))}}),[p,g,u]),Object(r.useEffect)((function(){if(o){var e;try{e=JSON.stringify(JSON.parse(o),null,2)}catch(t){e=o}e&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(e){var t="json-number";return/^"/.test(e)?t=/:$/.test(e)?"json-key":"json-string":/true|false/.test(e)?t="json-boolean":/null/.test(e)&&(t="json-null"),'<span class="'.concat(t,'">').concat(e,"</span>")}))),w(e),T(n),l()}}),[o,l,n]),a.a.createElement("div",{className:"uk-height-1-1 uk-flex uk-flex-center"},a.a.createElement(ve,{ratio:"5",loading:!R&&!x&&!p||Object(pt.a)(p),isError:p,errorText:p,className:"uk-padding uk-flex uk-flex-middle uk-flex-column"},function(e){if(e<0)return a.a.createElement("h1",{className:"uk-margin-remove"},"???");var t="uk-text-success";return e>=300&&(t="uk-text-primary"),e>=400&&(t="uk-text-warning"),e>=500&&(t="uk-text-danger"),a.a.createElement("h1",{className:t+" uk-margin-remove"},e)}(R),a.a.createElement("div",{className:"uk-margin-remove uk-text-muted"},a.a.createElement("span",null,"client"===M?"Client":"Server")," ",a.a.createElement("div",{className:"uk-position-relative",style:{display:"inline"}},a.a.createElement("span",{className:"method-span"},L),a.a.createElement("span",null,"--\x3e"))," ",a.a.createElement("img",{alt:"",className:"uk-icon-image text-img",src:C})," ",a.a.createElement("span",null,"--\x3e")," ",a.a.createElement("span",null,"You")),a.a.createElement("pre",{className:"code-block",style:{userSelect:"text"},dangerouslySetInnerHTML:{__html:x}}),a.a.createElement("div",null,a.a.createElement(P.b,{to:"/",className:"uk-padding-small","uk-icon":"icon: home"}),a.a.createElement("button",{className:"uk-padding-small","uk-icon":"icon: refresh",onClick:function(){}}),a.a.createElement(mt,{token:g,uuid:y}),a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:F,className:"uk-padding-small","uk-icon":""},a.a.createElement("img",{alt:"",className:"uk-icon-image",src:C})))))};yt.propTypes={favicons:i.a.object,favorite:i.a.object,tokensFromUUID:i.a.object,code:i.a.number,match:i.a.object,message:i.a.string,sendRequest:i.a.func.isRequired,clearResponse:i.a.func.isRequired,getToken:i.a.func.isRequired,removeToken:i.a.func.isRequired,favoriteFromStorage:i.a.func.isRequired,getFavicon:i.a.func.isRequired};var Ot=Object(W.b)((function(e){return{code:z(e),tokensFromUUID:Q(e),message:X(e),favicons:$(e),favorite:K(e)}}),(function(e){return{sendRequest:function(t){return e(A.sendRequest(t))},getToken:function(t){return e(A.getToken({uuid:t}))},removeToken:function(t){return e(fe.removeToken({uuid:t}))},clearResponse:function(){return e(ct.clearResponse(void 0))},getFavicon:function(t,n){return e(A.getFavicon({protocol:t,domainUrl:n}))},favoriteFromStorage:function(){return e(B.favoriteFromStorage(void 0))}}}))(Object(N.i)(yt)),Et=function(e){var t=e.index,n=e.text;return a.a.createElement("div",{className:"uk-child-width-1-1 uk-child-width-expand@m","uk-grid":""},a.a.createElement("div",{className:"uk-flex uk-flex-middle uk-flex-center uk-text-left uk-width-auto@m"},a.a.createElement("h1",null,t,".")),a.a.createElement("div",{className:"uk-flex uk-flex-middle uk-flex-center"},a.a.createElement("div",{className:"uk-flex uk-width-expand uk-width-expand"},e.children)),a.a.createElement("div",{className:"uk-flex uk-flex-middle uk-flex-center uk-text-left",style:{whiteSpace:"pre-wrap"}},n))};Et.propTypes={children:i.a.object.isRequired,index:i.a.number.isRequired,text:i.a.string.isRequired};var jt=function(e){var t=Object(N.g)(),n=function(e){27===e.keyCode&&t.goBack()};return Object(r.useEffect)((function(){return document.addEventListener("keydown",n,!1),function(){return document.removeEventListener("keydown",n,!1)}}),[]),a.a.createElement(u.b,{onSubmit:function(){},render:function(){return a.a.createElement("div",{className:"uk-padding uk-padding-remove-bottom"},a.a.createElement("div",{className:"uk-text-center uk-flex uk-flex-column","uk-margin":"margin: uk-margin"},a.a.createElement(Et,{index:1,text:"Выберите метод и введите ссылку, на которую надо отправить запрос."},a.a.createElement(a.a.Fragment,null,a.a.createElement(F,{name:"method",firstCheckbox:{initialValue:"GET",value:"GET"},secondCheckbox:{value:"POST"},clickHandler:function(){},visibilityTrigger:!0}),a.a.createElement("div",{className:"uk-width-expand"},a.a.createElement(u.a,{name:"link",type:"text",icon:"forward",placeholder:"http://example.com/login/?foo=bar&bar=foo"},S)))),a.a.createElement(Et,{index:2,text:'Запрос со стороны сервера может быть полезен, если ваша цель - получить ответ от сайта. \nClient side с включенным "no-cors" не дает получить ответ, но можно, например, POST-запросом залогиниться на каком-то сервисе\nЕсли выключить "no-cors", то некоторые сайты будут блокировать ваш запрос'},a.a.createElement(F,{className:"uk-width-expand uk-margin-remove",name:"handlerType",firstCheckbox:{initialValue:"server",value:"server",label:"Server side"},secondCheckbox:{value:"client",label:"Client side"},clickHandler:function(){},visibilityTrigger:!0})),a.a.createElement(Et,{index:3,text:"Если хотите, можно передать дополнительные хэдеры, записанные в JSON формате"},a.a.createElement("div",{className:"uk-width-expand"},a.a.createElement(u.a,{name:"headers",type:"text",icon:"cog",placeholder:'{"accept": "application/json"}'},S))),a.a.createElement(Et,{index:4,text:"После получения ответа от сайта, можно совершить переход по указанной ссылке"},a.a.createElement("div",{className:"uk-width-expand"},a.a.createElement(u.a,{name:"redirectTo",type:"text",icon:"future",placeholder:"http://example.com/main/"},S))),a.a.createElement("div",{className:"uk-width-expand uk-flex uk-flex-center"},a.a.createElement("span",null,"Нажмите ESC или"," "," ",a.a.createElement("a",{onClick:function(){return t.goBack()}},"сюда"),", чтобы вернуться"))))}})},xt=n.p+"780712c60fb4af90c4e68295ea1b0941.jpg";function wt(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function St(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){wt(o,r,a,c,i,"next",e)}function i(e){wt(o,r,a,c,i,"throw",e)}c(void 0)}))}}var Pt=function(e){var t=!0;switch(new URLSearchParams(location.search).get("case")){case"brandshop":St(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(location.search).get("pid"),n=new URLSearchParams(location.search).get("poi"),r=new URLSearchParams(location.search).get("povi"),a=new URLSearchParams(location.search).get("ovi"),!(t&&n&&r&&a)){e.next=8;break}return e.next=7,fetch("https://brandshop.ru/index.php?route=checkout/cart/add",{credentials:"include",headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"en-US,en;q=0.9,ru-RU;q=0.8,ru;q=0.7","content-type":"application/x-www-form-urlencoded; charset=UTF-8","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-requested-with":"XMLHttpRequest"},body:"quantity=1&product_id=".concat(t,"&option_value_id=").concat(a,"&option[").concat(n,"]=").concat(r),method:"POST",mode:"no-cors"});case 7:location.assign("https://brandshop.ru/checkout");case 8:case"end":return e.stop()}}),e)})))();break;case"tsum":St(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=new URLSearchParams(location.search).get("size_id"))){e.next=5;break}return e.next=4,fetch("https://api.tsum.ru/cart/item",{credentials:"include",headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"en-US,en;q=0.9,ru-RU;q=0.8,ru;q=0.7","content-type":"application/x-www-form-urlencoded; charset=UTF-8","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-requested-with":"XMLHttpRequest"},body:"type=sku&id=".concat(t),method:"POST",mode:"no-cors"});case 4:location.assign("https://www.tsum.ru/checkout/");case 5:case"end":return e.stop()}}),e)})))();break;case"belief":St(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=new URLSearchParams(location.search).get("variant_id"))){e.next=5;break}return e.next=4,fetch("https://beliefmoscow.com/cart_items.json",{credentials:"include",headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"en-US,en;q=0.9,ru-RU;q=0.8,ru;q=0.7","content-type":"application/x-www-form-urlencoded; charset=UTF-8","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-requested-with":"XMLHttpRequest"},body:"variant_id=".concat(t,"&quantity=1"),method:"POST",mode:"no-cors"});case 4:location.assign("https://beliefmoscow.com/new_order");case 5:case"end":return e.stop()}}),e)})))();break;case"streetbeat":St(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(location.search).get("productid"),n=new URLSearchParams(location.search).get("sizeid"),!t||!n){e.next=6;break}return e.next=5,fetch("https://street-beat.ru/local/components/multisite/order/ajax.php",{credentials:"include",headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"en-US,en;q=0.9,ru-RU;q=0.8,ru;q=0.7","content-type":"application/x-www-form-urlencoded; charset=UTF-8","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-requested-with":"XMLHttpRequest"},body:"action=add&id=".concat(n,"&count=1&isDeltaQty=1&properties%5BSIZE_TYPE%5D=tab_rus&skuCode=").concat(n,"&code=").concat(t),method:"POST",mode:"no-cors"});case 5:location.assign("https://street-beat.ru/order/cart/");case 6:case"end":return e.stop()}}),e)})))();break;default:t=!1}return a.a.createElement("div",{className:"uk-height-1-1 uk-flex uk-flex-center"},a.a.createElement(ve,{loading:t,ratio:4},a.a.createElement("img",{src:xt})))};Pt.propTypes={favicons:i.a.object,favorite:i.a.object,code:i.a.number,message:i.a.string,sendRequest:i.a.func.isRequired,clearResponse:i.a.func.isRequired,favoriteFromStorage:i.a.func.isRequired,getFavicon:i.a.func.isRequired};var Nt=Object(W.b)((function(e){return{code:z(e),message:X(e),favicons:$(e),favorite:K(e)}}),(function(e){return{sendRequest:function(t){return e(A.sendRequest(t))},clearResponse:function(){return e(ct.clearResponse(void 0))},getFavicon:function(t,n){return e(A.getFavicon({protocol:t,domainUrl:n}))},favoriteFromStorage:function(){return e(B.favoriteFromStorage(void 0))}}}))(Pt),Rt=function(){return a.a.createElement("div",{className:"uk-width-auto uk-flex uk-flex-center uk-padding-small uk-padding-remove-horizontal"},a.a.createElement(P.c,{activeClassName:"uk-card-default active",exact:!0,to:"/",className:"uk-padding-small","uk-icon":"icon: home"}),a.a.createElement(P.c,{activeClassName:"uk-card-default active",exact:!0,to:"/instant",className:"uk-padding-small","uk-icon":"icon: bolt"}))},Tt=function(e){var t=e.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Rt,null),a.a.createElement("div",null,t))};Tt.propTypes={children:i.a.node.isRequired};var qt=Tt,Ft=function(){return a.a.createElement("div",{className:"uk-padding uk-padding-remove-vertical"},a.a.createElement("div",{className:"uk-text-center"},a.a.createElement("div",{className:"uk-flex uk-flex-around module-line"},"Not implemented yet")))},Dt=function(){return a.a.createElement(N.d,null,a.a.createElement(N.b,{exact:!0,path:"/send/:payload"},a.a.createElement(Ot,null)),a.a.createElement(N.b,{exact:!0,path:"/help"},a.a.createElement(jt,null)),a.a.createElement(N.b,{exact:!0,path:"/atc"},a.a.createElement(Nt,null)),a.a.createElement(N.b,{exact:!0,path:"/instant"},a.a.createElement(qt,null,a.a.createElement(Ft,null))),a.a.createElement(N.b,{exact:!0,path:"/"},a.a.createElement(qt,null,a.a.createElement(tt,null))),a.a.createElement(N.b,null,a.a.createElement(N.a,{to:"/"})))},Ut=n(263),Ct=n.n(Ut),_t=(n(596),n(36)),It=Object(_t.c)({sendReducer:it,favoriteReducer:V,uuidReducer:me});!function(){ye.a.use(Ct.a);var e=Object(D.a)({reducer:It,middleware:Object(D.d)({thunk:!0}),devTools:!0});e.dispatch(B.favoriteFromStorage(void 0)),o.render(a.a.createElement(P.a,null,a.a.createElement(W.a,{store:e},a.a.createElement(Dt,null))),document.querySelector("#root"))}()}});